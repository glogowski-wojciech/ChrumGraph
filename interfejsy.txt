class Vertex {
    double X;
    double Y;
    List<Shape> Shapes;
    List<Edge> Edges;
    bool Pinned;
    bool PositionForced;
    double ForcedX, ForcedY;
};

class Edge {
    Vertex V1;
    Vertex V2;
    Shape Shape;
};

interface VisualCore {
    void CreateVertex(double x, double y);
    void RemoveVertex(Vertex v);
    void CreateEdge(Vertex v1, Vertex v2);
    void RemoveEdge(Edge e);
    void Pin(Vertex v); // Mutex(Core)
    void Unpin(Vertex v); // Mutex(Core)
    void SetPosition(Vertex v, double x, double y); // Mutex(Core)
    void LoadFromFile(string filename);
    void SaveGraph(string filename);
    void SaveVisualGraph(string filename);
};

class Core {
	private Core();
	static Core Instance;
    void CreateVertex(double x, double y);
    void RemoveVertex(Vertex v);
    void CreateEdge(Vertex v1, Vertex v2);
    void RemoveEdge(Edge e);
    void SimulationFinished();
    void Pin(Vertex v); // Mutex(Core)
    void Unpin(Vertex v); // Mutex(Core)
    void SetPosition(Vertex v, double x, double y); // Mutex(Core)
    void LoadGraphFromFile(string filename);
    void SaveGraphToFile(string filename);
    void SaveVisualGraphToFile(string filename);
    List<Vertex> Vertices;
    List<Edge> Edges;
    DispatcherTimer timer;
};

interface Visual {
	private Visual();
	static Visual Instance;
    void CreateVisualVertex(Vertex v);
    void RemoveVisualVertex(Vertex v);
    void CreateVisualEdge(Edge e);
    void RemoveVisualEdge(Edge e);
    bool Visible;
    void Refresh();
};

interface Physics {
    // ... parametry
    void StartSimulation(double fps); // Mutex(Core)
    void StartSimulation();
    void StopSimulation();
};
